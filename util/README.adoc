= Shell Scripting

== Aim
Write a portable, self-contained and minimal build system to build the catchup site.

== Structure
* The site uses https://docs.asciidoctor.org/asciidoctor/latest/[Asciidoctor] to write content.
* Each folder under `/summary/sessions/` represents one page
** Folders are named with the catchup number, left padded with 0s to a length of three
   to ensure consistent ordering.
* Common static files are in `/summary/static/`
* Each catchup session folder (`/summary/sessions/{number}/`) consists of:
** `content.adoc`: page contents
** `attendees.adoc`: attendee list
** `combined-summary.adoc`: optional, allows overriding the page layout for a specific summary
* Additional files:
** `/summary/combined-summary-template.adoc`: default page layout file
** `/summary/combined-summary.adoc`: page layout for combined summary page
** `/summary/individual-summary.adoc`: page layout for individual summary page

== Reasons for Choosing Shellscript
The build system needs to be portable across different operating systems (Windows/MacOS/Linux)
and setups (Full Desktop Environments to bare containers).
It should also ideally require minimal setup and be easy to modify.

That is why a POSIX shell script was chosen to handle the build.
Currently, the buildscript depends only on `grep` and `sed` apart from standard UNIX utilities.

== Build Process
Each summary is built as a separate page using `summary-template.adoc` and added to the combined summary file.
The content for the combined summary file is autogenerated by the build script,
in reverse order so the most recent summary comes first.
Templates are populated by defining variables during the invocation of the asciidoctor build command.

== Output
The buildscript creates a directory named `public` with the static files needed to serve the site.
The output folder can be changed by passing it as the first parameter to the script.
